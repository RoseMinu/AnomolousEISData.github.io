<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Anomalous Battery Cells – 4 Modelling</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <link rel="stylesheet" href="../css/custom_style.css" />
</head>

<body class="nav-sidebar theme-light" data-page="models" data-crumb="4 Modelling">
  <div id="site-header-placeholder"></div>

  <div id="page-layout">
    <div id="sidebar-placeholder"></div>

    <main id="content">
      <article class="article">
        <header class="article-header">
          <h1>Modelling Strategy</h1>
          <div class="article-meta">
            <div><strong>Module:</strong> <code>src/models/</code></div>
            <div><strong>Last updated:</strong> 2024-06-05</div>
          </div>
        </header>

        <section class="content-section">
          <h2>Baseline detectors</h2>
          <p>
            We prioritise models that are interpretable, updateable, and straightforward to deploy at the edge. Three complementary detectors form
            the core ensemble:
          </p>
          <ol>
            <li><strong>Isolation Forest:</strong> Robust to high-dimensional data; tuned to maintain a 2% expected false-positive rate.</li>
            <li><strong>One-class SVM:</strong> Captures nuanced boundaries in impedance manifolds for mature production lots.</li>
            <li><strong>Mahalanobis distance:</strong> Simple statistical baseline with closed-form thresholds for rapid deployment.</li>
          </ol>
          <p>
            Each detector exposes a <code>score(df_features)</code> method and follows a shared configuration schema defined in
            <code>src/models/config.py</code>.
          </p>
        </section>

        <section class="content-section">
          <h2>Training workflow</h2>
          <p>
            Use <code>python -m src.models.train</code> to retrain detectors whenever new labelled anomalies become available. The command performs
            the following steps:
          </p>
          <ul>
            <li>Loads the latest feature parquet partitions and applies the QC filters described in the Data section.</li>
            <li>Splits data into production lots to guard against information leakage.</li>
            <li>Tunes hyperparameters using Bayesian optimisation with time-aware cross-validation.</li>
            <li>Exports trained model artefacts and a JSON schema capturing feature expectations.</li>
          </ul>
        </section>

        <section class="content-section">
          <h2>Operational considerations</h2>
          <p>
            An anomaly detection pipeline is only as valuable as its alerting hygiene. We log every inference via <code>src/pipelines/logging.py</code>
            and ship weekly dashboards summarising score drift.
          </p>
          <ul>
            <li><strong>Thresholding:</strong> Tune per-chemistry thresholds to balance early detection with manageable triage volume.</li>
            <li><strong>Explainability:</strong> Use SHAP overlays to surface which impedance bands drove each alert.</li>
            <li><strong>Retraining cadence:</strong> Schedule quarterly retraining or whenever drift metrics exceed 3× the historical baseline.</li>
          </ul>
        </section>

        <nav class="page-nav">
          <div class="prev-link">
            <a href="eda.html">← Back: 3 Exploratory Data Analysis</a>
          </div>
          <div class="next-link">
            <a href="results.html">Next: 5 Results →</a>
          </div>
        </nav>
      </article>
    </main>

    <aside id="page-toc">
      <div class="toc-box">
        <h2>On this page</h2>
        <ul id="toc-list"></ul>
      </div>
    </aside>
  </div>

  <div id="footer-placeholder"></div>
  <script src="script.js"></script>
</body>
</html>
